# CONFIGURAÇÎÇŸO GLOBAL PADRÇŸO
jwt:
  secret: ${JWT_SECRET}
  expiration-seconds: ${JWT_EXPIRATION_SECONDS}

spring:
  config:
    import: optional:file:.env[.properties],optional:file:../.env[.properties]
  application:
    name: ${SPRING_APPLICATION_NAME}
  profiles:
    active: ${SPRING_PROFILES_ACTIVE}  # perfil ativo por padrão
  jpa:
    properties:
      hibernate:
        format_sql: ${SPRING_JPA_PROPERTIES_HIBERNATE_FORMAT_SQL}
  servlet:
    multipart:
      max-file-size: ${SPRING_SERVLET_MULTIPART_MAX_FILE_SIZE}
      max-request-size: ${SPRING_SERVLET_MULTIPART_MAX_REQUEST_SIZE}
  main:
    allow-bean-definition-overriding: ${SPRING_MAIN_ALLOW_BEAN_DEFINITION_OVERRIDING}
  mail:
    host: ${SPRING_MAIL_HOST}
    port: ${SPRING_MAIL_PORT}
    username: ${SPRING_MAIL_USERNAME}
    password: ${SPRING_MAIL_PASSWORD}
    properties:
      mail:
        smtp:
          auth: ${SPRING_MAIL_SMTP_AUTH}
          starttls:
            enable: ${SPRING_MAIL_SMTP_STARTTLS_ENABLE}
  flyway:
    enabled: ${SPRING_FLYWAY_ENABLED}
  security:
    oauth2:
      client:
        registration:
          google:
            client-id: ${GOOGLE_CLIENT_ID}
            client-secret: ${GOOGLE_CLIENT_SECRET}
            scope:
              - ${GOOGLE_OAUTH_SCOPE_OPENID}
              - ${GOOGLE_OAUTH_SCOPE_PROFILE}
              - ${GOOGLE_OAUTH_SCOPE_EMAIL}
            redirect-uri: ${GOOGLE_REDIRECT_URI}
        provider:
          google:
            authorization-uri: ${GOOGLE_AUTHORIZATION_URI}
            token-uri: ${GOOGLE_TOKEN_URI}
            user-info-uri: ${GOOGLE_USER_INFO_URI}
            user-name-attribute: ${GOOGLE_USER_NAME_ATTRIBUTE}

app:
  mail:
    from: ${APP_MAIL_FROM}
    enabled: ${APP_MAIL_ENABLED}
  cloudinary:
    base-url: ${CLOUDINARY_BASE_URL}
  password-reset:
    url: ${APP_PASSWORD_RESET_URL}
  site:
    media:
      storage-dir: ${APP_SITE_MEDIA_DIR}
      public-path: ${APP_SITE_MEDIA_PUBLIC_PATH}
  employee:
    certificates-upload-dir: ${APP_CERTIFICATES_UPLOAD_DIR}

  registration:
    cv-upload-dir: ${APP_CV_UPLOAD_DIR}
    verification:
      expiration-minutes: ${APP_REGISTRATION_VERIFICATION_EXPIRATION_MINUTES}
    pending-retention-minutes: ${APP_REGISTRATION_PENDING_RETENTION_MINUTES}
    pending-cleanup-interval-ms: ${APP_REGISTRATION_PENDING_CLEANUP_INTERVAL_MS}
  oauth2:
    front-success-url: ${OAUTH2_FRONT_SUCCESS_URL}

server:
  port: ${SERVER_PORT}
  ssl:
    enabled: ${SERVER_SSL_ENABLED}
    key-store: ${SERVER_SSL_KEY_STORE}
    key-store-password: ${SERVER_SSL_KEY_STORE_PASSWORD}
    key-store-type: ${SERVER_SSL_KEY_STORE_TYPE}
    key-password: ${SERVER_SSL_KEY_PASSWORD}
    key-alias: ${SERVER_SSL_KEY_ALIAS}

---

# PERFIL DE PRODUÇÃO
spring:
  config:
    activate:
      on-profile: prod
  datasource:
    url: ${SPRING_DATASOURCE_URL_PROD}
    username: ${SPRING_DATASOURCE_USERNAME_PROD}
    password: ${SPRING_DATASOURCE_PASSWORD_PROD}
    driver-class-name: ${SPRING_DATASOURCE_DRIVER_CLASS_NAME_PROD}
  jpa:
    hibernate:
      ddl-auto: ${SPRING_JPA_HIBERNATE_DDL_AUTO_PROD}
    show-sql: ${SPRING_JPA_SHOW_SQL_PROD}
    properties:
      hibernate:
        dialect: ${SPRING_JPA_PROPERTIES_HIBERNATE_DIALECT_PROD}
  sql:
    init:
      mode: ${SPRING_SQL_INIT_MODE_PROD}
server:
  port: ${PORT:8080}
  ssl:
    enabled: false
  forward-headers-strategy: native

app:
  mail:
    enabled: ${APP_MAIL_ENABLED_PROD}
  frontend-url: ${FRONTEND_URL}

# JWT configuration
jwt:
  secret: ${JWT_SECRET_PROD}
  expiration-seconds: ${JWT_EXPIRATION_SECONDS_PROD}
